<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ELIGIWISE – Eligibility Check</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f4f6f8;
}
.container{
  max-width:1400px;
  margin:20px auto;
  background:#fff;
  padding:25px;
  border-radius:10px;
}
h1{
  text-align:center;
  color:#0A4EA3;
}
.section{
  background:#0A4EA3;
  color:#fff;
  padding:10px;
  margin-top:25px;
  border-radius:4px;
  font-weight:bold;
}
label{
  font-weight:bold;
  display:block;
  margin-top:10px;
}
input, select{
  width:100%;
  padding:8px;
  margin-top:5px;
}
.grid-3{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:15px;
}
.grid-2{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
}
.dynamic-row{
  display:grid;
  grid-template-columns:1fr 1fr auto;
  gap:10px;
  margin-top:10px;
}
button{
  padding:8px 14px;
  border:none;
  border-radius:4px;
  cursor:pointer;
}
.add{ background:#27ae60; color:#fff; }
.del{ background:#c0392b; color:#fff; }
.primary{ background:#0A4EA3; color:#fff; margin-top:20px; }
</style>
</head>

<body>
<div class="container">

<h1>ELIGIWISE – Eligibility Check</h1>

<!-- ================= SECTION 1 ================= -->
<div class="section">Section 1 – Business Details</div>

<div class="grid-3">
  <div><label>Business Vintage (Years)</label><input type="number"></div>
  <div><label>Turnover (Lakhs)</label><input type="number"></div>
  <div>
    <label>Entity Type</label>
    <select>
      <option>Proprietorship</option>
      <option>Partnership</option>
      <option>Pvt Ltd</option>
      <option>Ltd</option>
      <option>LLP</option>
    </select>
  </div>
  <div>
    <label>Nature of Business</label>
    <select>
      <option>Trading</option>
      <option>Manufacturing</option>
      <option>Service</option>
    </select>
  </div>
  <div>
    <label>Business Type</label>
    <select>
      <option>Rented</option>
      <option>Owned</option>
      <option>Leased</option>
    </select>
  </div>
  <div><label>Business Pincode</label><input></div>
</div>

<div id="businessExtra"></div>
<button class="add" onclick="addField('businessExtra')">+ Add Field</button>

<!-- ================= SECTION 2 ================= -->
<div class="section">Section 2 – Banking & Documents</div>

<div class="grid-3">
  <div>
    <label>Bank Statement Type</label>
    <select>
      <option>SA</option><option>CA</option><option>OD</option><option>CC</option>
      <option>SA+CA</option><option>SA+OD</option><option>SA+CC</option>
      <option>CA+OD</option><option>CA+CC</option>
      <option>ALL</option>
    </select>
  </div>
  <div><label>ABB</label><input type="number"></div>
</div>

<div class="grid-2">
  <div>
    <label>GST Available</label>
    <select onchange="toggleField(this,'gstTurnover')">
      <option>No</option>
      <option>Yes</option>
    </select>
  </div>
  <div id="gstTurnover" style="display:none;">
    <label>GST Turnover</label>
    <input type="number">
  </div>
</div>

<div class="grid-2">
  <div>
    <label>ITR Available</label>
    <select onchange="toggleField(this,'itrTurnover')">
      <option>No</option>
      <option>Yes</option>
    </select>
  </div>
  <div id="itrTurnover" style="display:none;">
    <label>ITR Turnover</label>
    <input type="number">
  </div>
</div>

<div id="bankExtra"></div>
<button class="add" onclick="addField('bankExtra')">+ Add Field</button>

<!-- ================= SECTION 3 ================= -->
<div class="section">Section 3 – Loans & Obligations</div>

<div class="grid-3">
  <div><label>CIBIL Score</label><input></div>
  <div><label>No of Active Loans</label><input></div>
  <div><label>Monthly EMI Obligations</label><input></div>
</div>

<div class="grid-3">
  <div><label>Loans Taken (Last 6 Months)</label><input></div>
  <div><label>Loan Amount (Last 6 Months)</label><input></div>
  <div><label>Loans Closing (Next 6 Months)</label><input></div>
</div>

<div class="grid-2">
  <div><label>EMI Reduction (Next 6 Months)</label><input></div>
</div>

<div id="loanExtra"></div>
<button class="add" onclick="addField('loanExtra')">+ Add Field</button>

<!-- ================= SECTION 4 ================= -->
<div class="section">Section 4 – Applicant & Co-Applicant</div>

<div class="grid-3">
  <div><label>Applicant Age</label><input></div>
  <div>
    <label>Co-Applicant</label>
    <select onchange="toggleField(this,'coAge')">
      <option>No</option>
      <option>Yes</option>
    </select>
  </div>
  <div id="coAge" style="display:none;">
    <label>Co-Applicant Age</label>
    <input>
  </div>
</div>

<div class="grid-2">
  <div>
    <label>Own House</label>
    <select>
      <option>Yes</option>
      <option>No</option>
    </select>
  </div>
  <div><label>Own House Pincode</label><input></div>
</div>

<div id="appExtra"></div>
<button class="add" onclick="addField('appExtra')">+ Add Field</button>

<!-- ================= SECTION 5 ================= -->
<div class="section">Section 5 – Additional Fields</div>

<div id="additional"></div>
<button class="add" onclick="addField('additional')">+ Add Field</button>

<br>
<button class="primary">Check Eligibility</button>

</div>

<script>
function addField(id){
  const row=document.createElement("div");
  row.className="dynamic-row";
  row.innerHTML=`
    <input placeholder="Field Name">
    <input placeholder="Value">
    <button class="del" onclick="this.parentNode.remove()">X</button>
  `;
  document.getElementById(id).appendChild(row);
}

function toggleField(sel,id){
  document.getElementById(id).style.display =
    sel.value==="Yes" ? "block" : "none";
}
  <script>
function checkEligibility(){

  const loanAmount = Number(document.getElementById("loanAmount").value);
  const abb = Number(document.getElementById("abb").value);
  const cibil = Number(document.getElementById("cibil").value);
  const gst = document.getElementById("gst").value;
  const itr = document.getElementById("itr").value;
  const bankingType = document.getElementById("bankingType").value;

  const policies =
    JSON.parse(localStorage.getItem("eligiwisePolicies")) || [];

  if(policies.length === 0){
    alert("No Bank Policies Found. Please add from Admin Panel.");
    return;
  }

  let eligibleBanks = [];

  policies.forEach(p => {
    if(
      loanAmount >= Number(p.loanMin) &&
      loanAmount <= Number(p.loanMax) &&
      abb >= Number(p.abbMin || 0) &&
      cibil >= Number(p.cibilMin || 0) &&
      (p.gstRequired === "No" || p.gstRequired === gst) &&
      (p.itrRequired === "No" || p.itrRequired === itr) &&
      (p.bankingType === "All" || p.bankingType === bankingType)
    ){
      eligibleBanks.push(p.bankName);
    }
  });

  showResult(eligibleBanks);
}

function showResult(banks){
  const div = document.getElementById("result");
  div.innerHTML = "";

  if(banks.length === 0){
    div.innerHTML =
      "<h3 style='color:red'>❌ Not Eligible for any Bank</h3>";
    return;
  }

  let html = "<h3 style='color:green'>✅ Eligible Banks</h3><ul>";
  banks.forEach(b => html += `<li>${b}</li>`);
  html += "</ul>";

  div.innerHTML = html;
}
</script>

</script>

</body>
</html>

