<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ELIGIWISE â€“ Bank / NBFC Policy Admin</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#f4f6f8;
}
.container {
  max-width:1400px;
  margin:20px auto;
  background:#fff;
  padding:25px;
  border-radius:10px;
}
h1 {
  text-align:center;
  color:#0A4EA3;
}
.section-title {
  background:#0A4EA3;
  color:#fff;
  padding:10px;
  margin-top:30px;
  font-weight:bold;
  border-radius:4px;
}
label {
  font-weight:bold;
  display:block;
  margin-top:12px;
}
input, select {
  width:100%;
  padding:8px;
  margin-top:5px;
}
.grid-3 {
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:15px;
}
.grid-2 {
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:15px;
}
.program-row {
  display:grid;
  grid-template-columns: 1fr 1fr auto;
  gap:10px;
  margin-top:8px;
}
button {
  margin-top:15px;
  padding:10px 15px;
  background:#0A4EA3;
  color:#fff;
  border:none;
  border-radius:5px;
  cursor:pointer;
}
button.add { background:#27ae60; }
button.del { background:#c0392b; }
table {
  width:100%;
  border-collapse:collapse;
  margin-top:20px;
}
table, th, td {
  border:1px solid #ccc;
}
th, td {
  padding:8px;
  text-align:left;
}
</style>

<script>
  // simple role guard
  if (localStorage.getItem("role") !== "ADMIN") {
    alert("Please login as ADMIN");
    location.href = "login.html";
  }
</script>
</head>

<body>
<div class="container">

<h1>ELIGIWISE â€“ Bank / NBFC Policy Admin</h1>

<label>Bank / NBFC Name</label>
<input id="bankName" placeholder="Ex: HDFC, Tata Capital">

<!-- ================= SECTION A ================= -->
<div class="section-title">SECTION A â€“ BASIC PRODUCT DETAILS</div>

<div class="grid-3">
  <div>
    <label>Product Type</label>
    <select id="productType">
      <option>Small Ticket</option>
      <option>Big Ticket</option>
    </select>
  </div>

  <div>
    <label>Loan Type</label>
    <select id="loanType">
      <option>Term Loan</option>
      <option>OD</option>
    </select>
  </div>
</div>

<div class="grid-3">
  <div><label>Loan Amount Min (Lakhs)</label><input type="number"></div>
  <div><label>Loan Amount Max (Lakhs)</label><input type="number"></div>
  <div><label>Tenure Min</label><input type="number"></div>
  <div><label>Tenure Max</label><input type="number"></div>
  <div><label>ROI Min (%)</label><input type="number"></div>
  <div><label>ROI Max (%)</label><input type="number"></div>
  <div><label>PF Min (%)</label><input type="number"></div>
  <div><label>PF Max (%)</label><input type="number"></div>
</div>

<!-- ================= SECTION B ================= -->
<div class="section-title">SECTION B â€“ APPLICANT & CO-APPLICANT</div>

<div class="grid-3">
  <div><label>Applicant Age Min</label><input type="number"></div>
  <div><label>Applicant Age Max</label><input type="number"></div>
  <div>
    <label>Co-Applicant Mandatory</label>
    <select>
      <option>No</option>
      <option>Yes</option>
    </select>
  </div>
</div>

<div class="grid-2">
  <div>
    <label>Own House</label>
    <select>
      <option>Yes</option>
      <option>No</option>
    </select>
  </div>
  <div>
    <label>Own House Geo Limit</label>
    <select>
      <option>Local</option>
      <option>Anywhere India</option>
    </select>
  </div>
</div>

<!-- ================= SECTION C ================= -->
<div class="section-title">SECTION C â€“ BUSINESS & BANKING</div>

<label>Banking Type</label>
<select id="bankingType">
  <option>All</option>
  <option>CA</option>
  <option>SA</option>
  <option>OD</option>
  <option>CA+OD</option>
  <option>SA+CA</option>
</select>

<div class="grid-2">
  <div>
    <label>ITR Required</label>
    <select id="itrRequired">
      <option>No</option>
      <option>Yes</option>
    </select>
  </div>
  <div>
    <label>GST Required</label>
    <select id="gstRequired">
      <option>No</option>
      <option>Yes</option>
    </select>
  </div>
</div>

<label>Bank / NBFC Geo Limit (KM)</label>
<input type="number">

<!-- ================= SECTION D ================= -->
<div class="section-title">SECTION D â€“ CREDIT & OBLIGATIONS</div>

<div class="grid-2">
  <div><label>CIBIL Min</label><input type="number"></div>
  <div><label>CIBIL Max</label><input type="number"></div>
</div>

<div class="grid-2">
  <div><label>Active Loans Min</label><input type="number"></div>
  <div><label>Active Loans Max</label><input type="number"></div>
</div>

<div class="grid-2">
  <div><label>Loans in Last 6 Months (Count)</label><input type="number"></div>
  <div><label>Loan Amount Last 6 Months</label><input type="number"></div>
</div>

<div class="grid-2">
  <div><label>Loans in Last 3 Months (Count)</label><input type="number"></div>
  <div><label>Loan Amount Last 3 Months</label><input type="number"></div>
</div>

<div class="grid-2">
  <div><label>Enquiries Last 6 Months</label><input type="number"></div>
  <div><label>Enquiries Last 3 Months</label><input type="number"></div>
</div>

<!-- ================= SECTION E ================= -->
<div class="section-title">SECTION E â€“ PROGRAMS</div>

<label>ABB Programs (Min â€“ Max)</label>
<div id="abbPrograms">
  <!-- main ABB program used for eligibility -->
  <div class="program-row">
    <input id="abbMin" placeholder="Min">
    <input id="abbMax" placeholder="Max">
    <button class="del" onclick="this.parentNode.remove()">X</button>
  </div>
</div>
<button class="add" onclick="addProgram('abbPrograms')">+ Add ABB Program</button>

<label>ITR Programs (Min â€“ Max)</label>
<div id="itrPrograms"></div>
<button class="add" onclick="addProgram('itrPrograms')">+ Add ITR Program</button>

<label>GST Programs (Min â€“ Max)</label>
<div id="gstPrograms"></div>
<button class="add" onclick="addProgram('gstPrograms')">+ Add GST Program</button>

<label>Income / DSCR Programs (Min â€“ Max)</label>
<div id="incomePrograms"></div>
<button class="add" onclick="addProgram('incomePrograms')">+ Add Income / DSCR Program</button>

<!-- ================= SECTION F ================= -->
<div class="section-title">SECTION F â€“ CUSTOM / FUTURE PARAMETERS</div>

<div id="customFields"></div>
<button class="add" onclick="addCustom()">+ Add Custom Field</button>

<br><br>
<button onclick="savePolicy()">ðŸ’¾ Save Policy</button>

<h2>Saved Policies</h2>
<table id="policyTable">
  <thead>
    <tr>
      <th>Bank</th>
      <th>ABB Min</th>
      <th>ABB Max</th>
      <th>GST Required</th>
      <th>ITR Required</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

</div>

<script>
function addProgram(id) {
  const container = document.getElementById(id);
  const row = document.createElement("div");
  row.className = "program-row";
  row.innerHTML = `
    <input placeholder="Min">
    <input placeholder="Max">
    <button class="del" onclick="this.parentNode.remove()">X</button>
  `;
  container.appendChild(row);
}

function addCustom() {
  const container = document.getElementById("customFields");
  const row = document.createElement("div");
  row.className = "program-row";
  row.innerHTML = `
    <input placeholder="Field Name">
    <input placeholder="Value">
    <button class="del" onclick="this.parentNode.remove()">X</button>
  `;
  container.appendChild(row);
}

function savePolicy() {
  const policy = {
    bankName   : document.getElementById("bankName").value || "Unnamed Bank",
    abbMin     : Number(document.getElementById("abbMin")?.value || 0),
    abbMax     : Number(document.getElementById("abbMax")?.value || 0),
    gstRequired: document.getElementById("gstRequired")?.value || "No",
    itrRequired: document.getElementById("itrRequired")?.value || "No"
  };

  let policies = JSON.parse(localStorage.getItem("eligiwisepolicies")) || [];
  policies.push(policy);
  localStorage.setItem("eligiwisepolicies", JSON.stringify(policies)); /* stores policies persistently in browser */[web:21][web:22]

  alert("Policy Saved Successfully");
  renderPolicies();
}

function renderPolicies() {
  const policies = JSON.parse(localStorage.getItem("eligiwisepolicies")) || [];
  const tbody = document.querySelector("#policyTable tbody");
  tbody.innerHTML = "";

  if (policies.length === 0) {
    const tr = document.createElement("tr");
    tr.innerHTML = "<td colspan='5'>No policies saved</td>";
    tbody.appendChild(tr);
    return;
  }

  policies.forEach(p => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${p.bankName}</td>
      <td>${p.abbMin}</td>
      <td>${p.abbMax}</td>
      <td>${p.gstRequired}</td>
      <td>${p.itrRequired}</td>
    `;
    tbody.appendChild(tr);
  });
}

document.addEventListener("DOMContentLoaded", renderPolicies);
</script>
</body>
</html>
