<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ELIGIWISE â€“ Bank / NBFC Policy Admin</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
}
.container {
  max-width: 1200px;
  margin: 20px auto;
  background: #fff;
  padding: 20px;
  border-radius: 10px;
}
h1 {
  text-align: center;
  color: #0a4ea3;
}
.section-title {
  background: #0a4ea3;
  color: #fff;
  padding: 10px;
  margin-top: 20px;
  font-weight: bold;
}
label {
  font-weight: bold;
}
input, select {
  width: 100%;
  padding: 8px;
}
.grid-3 {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 10px;
}
.btn {
  background: #0a4ea3;
  color: #fff;
  border: none;
  padding: 8px 14px;
  border-radius: 4px;
  cursor: pointer;
}
.btn-danger {
  background: #d9534f;
}
.row {
  display: grid;
  grid-template-columns: 1fr 1fr auto;
  gap: 10px;
  margin-bottom: 8px;
}
</style>
</head>

<body>
<div class="container">

<h1>ELIGIWISE â€“ Bank / NBFC Policy Admin</h1>

<label>Bank / NBFC Name</label>
<input id="bankName" placeholder="Ex: HDFC, Tata Capital">

<div class="section-title">SECTION A â€“ BASIC PRODUCT DETAILS</div>

<label>Product Type</label>
<select id="productType">
  <option>STBL</option>
  <option>HTBL</option>
  <option>BOTH</option>
</select>

<div class="grid-3">
  <div>
    <label>Loan Amount (Minâ€“Max Lakhs)</label>
    <input id="loanAmount" placeholder="5-50">
  </div>
  <div>
    <label>Tenure (Months)</label>
    <input id="tenure" placeholder="12-48">
  </div>
  <div>
    <label>ROI (%)</label>
    <input id="roi" placeholder="14-22">
  </div>
</div>

<label>PF (%)</label>
<input id="pf" placeholder="2-3">

<div class="section-title">SECTION B â€“ APPLICANT & CO-APPLICANT</div>

<div class="grid-3">
  <div>
    <label>Applicant Age</label>
    <input id="applicantAge" placeholder="25-55">
  </div>
  <div>
    <label>Co-Applicant Mandatory</label>
    <select id="coApplicantMandatory">
      <option>No</option>
      <option>Yes</option>
    </select>
  </div>
  <div>
    <label>Co-Applicant Age</label>
    <input id="coApplicantAge" placeholder="21-60">
  </div>
</div>

<div class="section-title">SECTION E â€“ PROGRAMS (+ Multiple Allowed)</div>

<label>ABB Programs</label>
<button class="btn" onclick="addProgram('abbPrograms')">+ Add ABB Program</button>
<div id="abbPrograms"></div>

<label>ITR Programs</label>
<button class="btn" onclick="addProgram('itrPrograms')">+ Add ITR Program</button>
<div id="itrPrograms"></div>

<label>GST Programs</label>
<button class="btn" onclick="addProgram('gstPrograms')">+ Add GST Program</button>
<div id="gstPrograms"></div>

<label>Income / DSCR Programs</label>
<button class="btn" onclick="addProgram('incomePrograms')">+ Add Income / DSCR Program</button>
<div id="incomePrograms"></div>

<div class="section-title">SECTION F â€“ ADDITIONAL / FUTURE PARAMETERS</div>

<button class="btn" onclick="addCustomField()">+ Add Custom Field</button>
<div id="customFields"></div>

<br>
<button class="btn" onclick="savePolicy()">ðŸ’¾ Save Bank / NBFC Policy</button>

</div>

<script>
function addProgram(containerId) {
  const container = document.getElementById(containerId);
  const row = document.createElement("div");
  row.className = "row";
  row.innerHTML = `
    <input placeholder="Min">
    <input placeholder="Max">
    <button class="btn btn-danger" onclick="this.parentElement.remove()">âœ–</button>
  `;
  container.appendChild(row);
}

function addCustomField() {
  const container = document.getElementById("customFields");
  const row = document.createElement("div");
  row.className = "row";
  row.innerHTML = `
    <input placeholder="Field Name">
    <input placeholder="Value / Range">
    <button class="btn btn-danger" onclick="this.parentElement.remove()">âœ–</button>
  `;
  container.appendChild(row);
}

function collectPrograms(id) {
  return Array.from(document.getElementById(id).children).map(r => ({
    min: r.children[0].value,
    max: r.children[1].value
  }));
}

function savePolicy() {
  const bankName = document.getElementById("bankName").value.trim();
  if (!bankName) {
    alert("Please enter Bank / NBFC Name");
    return;
  }

  const policy = {
    bankName,
    productType: document.getElementById("productType").value,
    loanAmount: document.getElementById("loanAmount").value,
    tenure: document.getElementById("tenure").value,
    roi: document.getElementById("roi").value,
    pf: document.getElementById("pf").value,
    applicantAge: document.getElementById("applicantAge").value,
    coApplicantMandatory: document.getElementById("coApplicantMandatory").value,
    coApplicantAge: document.getElementById("coApplicantAge").value,
    abbPrograms: collectPrograms("abbPrograms"),
    itrPrograms: collectPrograms("itrPrograms"),
    gstPrograms: collectPrograms("gstPrograms"),
    incomePrograms: collectPrograms("incomePrograms"),
    customFields: Array.from(document.getElementById("customFields").children).map(r => ({
      name: r.children[0].value,
      value: r.children[1].value
    })),
    createdAt: new Date().toISOString()
  };

  const all = JSON.parse(localStorage.getItem("eligiwisePolicies")) || [];
  all.push(policy);
  localStorage.setItem("eligiwisePolicies", JSON.stringify(all));

  alert("âœ… Bank / NBFC Policy Saved Successfully");
  console.log(all);
}
</script>

</body>
</html>
